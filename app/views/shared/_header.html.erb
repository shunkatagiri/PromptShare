<%# app/views/layouts/_header.html.erb %>

<div class="w-full max-w-7xl">
  <div class="flex flex-col max-w-screen-xl p-5 mx-auto justify-between md:items-center md:flex-row md:px-6 lg:px-8" data-controller="menu">
    <div class="flex justify-between w-full lg:w-auto">
      <div class="flex justify-between w-full md:w-auto">
        <%= link_to 'PromptShare', root_path, class: 'text-lg font-bold tracking-tighter text-blue-600 transition duration-500 ease-in-out transform tracking-relaxed lg:pr-8' %>
        <button class="rounded-lg md:hidden focus:outline-none focus:shadow-outline" data-action="click->menu#toggle">
          <!-- Your SVG icons here -->
        </button>
      </div>

      <nav class="flex-col items-center flex-grow hidden pb-4 md:flex md:justify-start md:flex-row lg:border-l-2 lg:pl-2" data-menu-target="nav">
        <a class="px-4 py-2 mt-2 text-sm text-gray-500 md:mt-0 hover:text-blue-600 focus:outline-none focus:shadow-outline" href="#">プロンプトとは？</a>
        <%= link_to '投稿', new_template_path ,class: 'px-4 py-2 mt-2 text-sm text-gray-500 md:mt-0 hover:text-blue-600 focus:outline-none focus:shadow-outline'%>
      </nav>
    </div>

    <% if current_user %>
      <div class="relative inline-block text-left">
        <%= link_to user_profile_path(current_user), class: "rounded-full h-8 w-8 overflow-hidden" do %>
          <div class="h-full w-full text-gray-500">
            <span><i class="fas fa-user"></i></span> 
          </div>
        <% end %>

        <div class="origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5">
          <div class="py-1" role="menu" aria-orientation="vertical" aria-labelledby="options-menu">
            <%= link_to user_profile_path(current_user), class: "block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900" do %>
              プロフィール詳細
            <% end %>
            <%= link_to bookmarks_path, class: "block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900" do %>
              ブックマーク一覧
            <% end %>
            <%= link_to logout_path, method: :delete, class: "block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900" do %>
              ログアウト
            <% end %>
          </div>
        </div>
      </div>
    <% else %>
      <div class="inline-flex items-center gap-2 list-none">
        <%= link_to 'ログイン', login_path, class: 'items-center block px-10 py-2.5 text-base font-medium text-center text-blue-600 transition duration-500 ease-in-out transform border-2 border-white shadow-md rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500' %>
        <%= link_to '新規登録', new_user_path, class: 'items-center block px-10 py-3 text-base font-medium text-center text-white transition duration-500 ease-in-out transform bg-blue-600 rounded-xl hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500' %>
      </div>
    <% end %>
  </div>
</div>
