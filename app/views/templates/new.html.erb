<%# app/views/templates/new.html.erb %>
<section class="bg-white">
  <div class="flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0">
    <h2 class="mb-4 text-center text-2xl font-bold text-gray-800 md:mb-8 lg:text-3xl">Create a Template</h2>
    <div class="w-full bg-white rounded-lg shadow md:mt-0 sm:max-w-xl xl:p-0">
      <div class="p-6 space-y-4 md:space-y-6 sm:p-8">
        <% if logged_in? %>
          <%= form_with(model: @template, local: true) do |form| %>
            <div class="space-y-4 md:space-y-6">
              <div>
                <%= form.label :title, "Title", class: "block mb-2 text-sm font-medium text-gray-900" %>
                <%= form.text_field :title, id: "title", class: "bg-gray-35 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5", required: true %>
              </div>
              <div>
                <%= form.label :description, "Description", class: "block mb-2 text-sm font-medium text-gray-900" %>
                <%= form.text_area :description, id: "description", class: "bg-gray-35 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5" %>
              </div>
              <div>
                <%= form.label :category_id, "Category", class: "block mb-2 text-sm font-medium text-gray-900" %>
                <%= form.collection_select :category_id, Category.all, :id, :name, {}, {class: 'bg-gray-35 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5'} %>
              </div>
              <div>
                <%= form.label :content, "プロンプト", class: "block mb-2 text-sm font-medium text-gray-900" %>
                <%= form.text_area :content, id: "content", class: "bg-gray-35 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5", required: true %>
              </div>
              <div>
                <%= form.label :usage_example, "ChatGPTの共有リンクを入力して使用例を表示する (link)", class: "block mb-2 text-sm font-medium text-gray-900" %>
                <%= form.text_field :usage_example, id: "usage_example", class: "bg-gray-35 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5" %>
              </div>
              <div>
                <%= form.submit "Create", class: "flex items-center justify-center w-full px-10 py-4 text-base font-medium text-center text-white transition duration-500 ease-in-out transform bg-gray-600 rounded-xl hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500" %>
              </div>
            </div>
          <% end %>
        <% else %>
          <p class="text-center text-red-500">テンプレートを作成するには、ログインが必要です。</p>
          <%= link_to 'Log in', login_path, class: "block w-full py-3 mt-6 font-medium text-center text-white transition duration-500 ease-in-out transform bg-gray-600 border-gray-600 rounded-md focus:outline-none focus:border-blue-600 hover:bg-blue-700" %>
        <% end %>
      </div>
    </div>
  </div>
</section>
